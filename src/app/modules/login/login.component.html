<div class="login-container">
  <!-- LEFT SECTION -->
  <div class="left-section">
    <!-- BACKGROUND IMAGE -->
    <img class="bg-img" src="images/login.svg" alt="Tickets" />
  </div>
  <!-- RIGHT SECTION -->
  <div class="right-section">
    <!-- CHANGE LANGUAGE SWITCH -->
    <div class="change-language dropdown">
      <button
        #dropdownButton
        class="btn btn-lang dropdown-toggle p-0"
        type="button"
        id="dropdownMenuButton"
        data-bs-toggle="dropdown"
        aria-expanded="false"
        [class.active]="isDropdownOpen"
        (click)="toggleDropdown()"
      >
        <!-- FLAG IMAGE -->
        <img class="mx-2" [src]="currentLanguage + '.svg'" alt="th" />
        <!-- LANGUAGE TEXT -->
        {{ currentLanguage === "th" ? "ภาษาไทย" : "English" }}
        <!-- ARROW ICON -->
        <img
          class="arrow-icon"
          [src]="isDropdownOpen ? 'arrow-up.svg' : 'arrow-down.svg'"
          alt="Arrow Icon"
        />
      </button>
      <!-- LANGUAGE LIST -->
      <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
        <!-- THAI LANGUAGE -->
        <li>
          <a class="dropdown-item menu-lang" (click)="switchLanguage('th')">
            <img class="mx-2" src="th.svg" alt="th" />
            ภาษาไทย
          </a>
        </li>
        <!-- ENGLISH LANGUAGE -->
        <li>
          <a class="dropdown-item menu-lang" (click)="switchLanguage('en')">
            <img class="mx-2" src="en.svg" alt="en" />
            English
          </a>
        </li>
      </ul>
    </div>
    <!-- LOGO WEBSITE -->
    <div class="logo-section mt-5">
      <img class="logo-img" src="images/logo.svg" alt="Phuyaipu Logo" />
    </div>
    <!-- HEADER TITLE -->
    <div class="welcome-text mt-3">
      {{ "LOGIN.WELCOME" | translate }}
    </div>
    <!-- SUB HEADER TITLE -->
    <div class="hint-text mt-3">
      {{ "LOGIN.HINT" | translate }}
    </div>
    <!-- FORM SECTION -->
    <form class="login-form mt-3" [formGroup]="loginForm">
      <!-- INPUT FIELD -> ชื่อผู้ใช้งาน -->
      <div class="mt-3">
        <label
          for="email"
          [class.label-error]="
            getForm('username')?.errors &&
            (getForm('username')?.touched || getForm('username')?.dirty)
          "
        >
          {{ "LOGIN.USERNAME" | translate }}
        </label>
        <input
          class="form-control mt-1"
          type="text"
          id="username"
          formControlName="username"
          [placeholder]="'LOGIN.USERNAME_PLACEHOLDER' | translate"
          [class.form-error]="
            getForm('username')?.errors &&
            (getForm('username')?.touched || getForm('username')?.dirty)
          "
        />
        <div
          class="text-error"
          *ngIf="
            getForm('username')?.errors &&
            (getForm('username')?.touched || getForm('username')?.dirty)
          "
        >
          {{ "LOGIN.USERNAME_REQUIRED" | translate }}
        </div>
      </div>
      <!-- INPUT FIELD -> รหัสผ่าน -->
      <div class="mt-3">
        <label
          for="password"
          [class.label-error]="
            getForm('password')?.errors &&
            (getForm('password')?.touched || getForm('password')?.dirty)
          "
        >
          {{ "LOGIN.PASSWORD" | translate }}
        </label>
        <div class="password-container">
          <input
            class="form-control mt-1"
            [type]="isShowPassword ? 'text' : 'password'"
            id="password"
            formControlName="password"
            [placeholder]="'LOGIN.PASSWORD_PLACEHOLDER' | translate"
            [class.form-error]="
              getForm('password')?.errors &&
              (getForm('password')?.touched || getForm('password')?.dirty)
            "
          />
          <img
            *ngIf="isShowPassword"
            class="icon-eye"
            src="icons/eyes-close.svg"
            alt="eyes-close"
            (click)="toggleShowPassword()"
          />
          <img
            *ngIf="!isShowPassword"
            class="icon-eye"
            src="icons/eyes-open.svg"
            alt="eyes-close"
            (click)="toggleShowPassword()"
          />
        </div>
        <div
          class="text-error"
          *ngIf="
            getForm('password')?.errors &&
            (getForm('password')?.touched || getForm('password')?.dirty)
          "
        >
          {{ "LOGIN.PASSWORD_REQUIRED" | translate }}
        </div>
      </div>
      <!-- OPTIONS SECTION -->
      <div class="option-section mt-3">
        <!-- REMEMBER CHECKBOX -->
        <div class="form-check">
          <input
            class="form-check-input col-2 mt-2"
            type="checkbox"
            formControlName="rememberMe"
            id="rememberMe"
          />
          <label class="form-check-label" for="rememberMe">
            {{ "LOGIN.REMEMBER" | translate }}
          </label>
        </div>
        <!-- FORGET PASSWORD -->
        <a href="#" class="obrs-link">
          {{ "LOGIN.FORGETPASSWORD" | translate }}
        </a>
      </div>
      <!-- LOGIN BUTTON -->
      <button type="submit" class="login-btn mt-3" (click)="login()">
        {{ "LOGIN.LOGIN" | translate }}
      </button>
      <!-- OR -->
      <div class="or-section gap-3 mt-3">
        <hr />
        <span>
          {{ "LOGIN.OR" | translate }}
        </span>
        <hr />
      </div>
      <!-- LOGIN BY PHONE NUMBER BUTTON -->
      <button
        type="submit"
        class="login-by-phone-no-btn mt-3"
        [routerLink]="'/login-mobile'"
      >
        {{ "LOGIN.LOGINMOBILE" | translate }}
      </button>
      <!-- REGISTER LINK -->
      <p class="register-link mt-4">
        {{ "LOGIN.REGISTERLINK" | translate }}
        <a class="obrs-link" [routerLink]="'/register'">
          {{ "LOGIN.REGISTERLINK_CLICK" | translate }}
        </a>
      </p>
    </form>
  </div>
</div>
