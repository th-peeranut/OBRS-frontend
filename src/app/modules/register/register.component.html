<div class="login-container">
  <div class="left-section">
    <img src="login.svg" alt="Tickets" class="illustration" />
  </div>

  <div class="right-section">
    <div class="d-flex justify-content-end dropdown mb-3">
      <button
        #dropdownButton
        class="btn btn-lang dropdown-toggle p-0"
        type="button"
        id="dropdownMenuButton"
        data-bs-toggle="dropdown"
        aria-expanded="false"
        [class.active]="isDropdownOpen"
        (click)="toggleDropdown()"
      >
        <img class="mx-2" [src]="currentLanguage + '.svg'" alt="th" />
        {{ currentLanguage === "th" ? "ภาษาไทย" : "English" }}
        <img
          class="arrow-icon"
          [src]="isDropdownOpen ? 'arrow-up.svg' : 'arrow-down.svg'"
          alt="Arrow Icon"
        />
      </button>

      <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
        <li>
          <a class="dropdown-item menu-lang" (click)="switchLanguage('th')">
            <img class="mx-2" src="th.svg" alt="th" />

            ภาษาไทย
          </a>
        </li>
        <li>
          <a class="dropdown-item menu-lang" (click)="switchLanguage('en')">
            <img class="mx-2" src="en.svg" alt="en" />

            English
          </a>
        </li>
      </ul>
    </div>

    <div class="d-flex justify-content-center mt-3">
      <div class="logo">
        <img src="logo.svg" alt="Phuyaipu Logo" />
      </div>
    </div>

    <!-- ยินดีต้อนรับเข้าสู่ระบบ -->
    <h1 class="text-center mt-3">
      {{ "REGISTER.WELCOME" | translate }}
    </h1>

    <!-- กรุณากรอกข้อมูลด้านล่าง เพื่อความสะดวกในการจองตั๋วของคุณ -->
    <p class="text-center subtext mt-1">
      {{ "REGISTER.HINT" | translate }}
    </p>

    <form class="login-form" [formGroup]="registerForm">
      <div class="row form-row">
        <div class="col-4">
          <!-- ชื่อจริง -->
          <label
            for="firstName"
            [class.label-error]="
              getForm('firstName')?.errors &&
              (getForm('firstName')?.touched || getForm('firstName')?.dirty)
            "
          >
            {{ "REGISTER.FIRSTNAME" | translate }}
          </label>
          <input
            class="form-control mt-1"
            type="text"
            id="firstName"
            formControlName="firstName"
            [placeholder]="'REGISTER.FIRSTNAME_PLACEHOLDER' | translate"
            [class.form-error]="
              getForm('firstName')?.errors &&
              (getForm('firstName')?.touched || getForm('firstName')?.dirty)
            "
          />
          <div
            class="text-error"
            *ngIf="
              getForm('firstName')?.errors &&
              (getForm('firstName')?.touched || getForm('firstName')?.dirty)
            "
          >
            {{ "REGISTER.FIRSTNAME_REQUIRED" | translate }}
          </div>
        </div>

        <div class="col-4">
          <!-- ชื่อกลาง -->
          <label for="middleName">
            {{ "REGISTER.MIDDLENAME" | translate }}
          </label>
          <input
            class="form-control mt-1"
            type="text"
            id="middleName"
            formControlName="middleName"
            [placeholder]="'REGISTER.MIDDLENAME_PLACEHOLDER' | translate"
          />
        </div>

        <div class="col-4">
          <!-- นามสกุล -->
          <label
            for="lastName"
            [class.label-error]="
              getForm('lastName')?.errors &&
              (getForm('lastName')?.touched || getForm('lastName')?.dirty)
            "
          >
            {{ "REGISTER.LASTNAME" | translate }}
          </label>
          <input
            class="form-control mt-1"
            type="text"
            id="lastName"
            formControlName="lastName"
            [placeholder]="'REGISTER.LASTNAME_PLACEHOLDER' | translate"
            [class.form-error]="
              getForm('lastName')?.errors &&
              (getForm('lastName')?.touched || getForm('lastName')?.dirty)
            "
          />
          <div
            class="text-error"
            *ngIf="
              getForm('lastName')?.errors &&
              (getForm('lastName')?.touched || getForm('lastName')?.dirty)
            "
          >
            {{ "REGISTER.LASTNAME_REQUIRED" | translate }}
          </div>
        </div>
      </div>

      <div class="row form-row">
        <div class="col-12">
          <!-- ชื่อผู้ใช้งาน -->
          <label
            for="username"
            [class.label-error]="
              getForm('username')?.errors &&
              (getForm('username')?.touched || getForm('username')?.dirty)
            "
          >
            {{ "REGISTER.USERNAME" | translate }}
          </label>
          <input
            class="form-control mt-1"
            type="text"
            id="username"
            formControlName="username"
            [placeholder]="'REGISTER.USERNAME_PLACEHOLDER' | translate"
            [class.form-error]="
              getForm('username')?.errors &&
              (getForm('username')?.touched || getForm('username')?.dirty)
            "
          />
          <div
            class="text-error"
            *ngIf="
              getForm('username')?.errors &&
              (getForm('username')?.touched || getForm('username')?.dirty)
            "
          >
            {{ "REGISTER.USERNAME_REQUIRED" | translate }}
          </div>
        </div>
      </div>

      <div class="row form-row">
        <div class="col-6">
          <!-- อีเมล -->
          <label
            for="email"
            [class.label-error]="
              getForm('email')?.errors &&
              (getForm('email')?.touched || getForm('email')?.dirty)
            "
          >
            {{ "REGISTER.EMAIL" | translate }}
          </label>
          <input
            class="form-control mt-1"
            type="text"
            id="email"
            formControlName="email"
            [placeholder]="'REGISTER.EMAIL_PLACEHOLDER' | translate"
            [class.form-error]="
              getForm('email')?.errors &&
              (getForm('email')?.touched || getForm('email')?.dirty)
            "
          />
          <div
            class="text-error"
            *ngIf="
              getForm('email')?.errors &&
              (getForm('email')?.touched || getForm('email')?.dirty)
            "
          >
            {{ "REGISTER.EMAIL_REQUIRED" | translate }}
          </div>
        </div>

        <div class="col-6">
          <!-- หมายเลขโทรศัพท์ -->
          <label
            for="phoneNumber"
            [class.label-error]="
              getForm('phoneNumber')?.errors &&
              (getForm('phoneNumber')?.touched || getForm('phoneNumber')?.dirty)
            "
          >
            {{ "REGISTER.PHONE_NO" | translate }}
          </label>
          <input
            class="form-control mt-1"
            type="text"
            id="phoneNumber"
            formControlName="phoneNumber"
            [placeholder]="'REGISTER.PHONE_NO_PLACEHOLDER' | translate"
            [class.form-error]="
              getForm('phoneNumber')?.errors &&
              (getForm('phoneNumber')?.touched || getForm('phoneNumber')?.dirty)
            "
          />
          <div
            class="text-error"
            *ngIf="
              getForm('phoneNumber')?.errors &&
              (getForm('phoneNumber')?.touched || getForm('phoneNumber')?.dirty)
            "
          >
            {{ "REGISTER.PHONE_NO_REQUIRED" | translate }}
          </div>
        </div>
      </div>

      <div class="row form-row">
        <div class="col-6">
          <!-- รหัสผ่าน -->
          <label
            class="mt-3"
            for="password"
            [class.label-error]="
              getForm('password')?.errors &&
              (getForm('password')?.touched || getForm('password')?.dirty)
            "
          >
            {{ "REGISTER.PASSWORD" | translate }}
          </label>
          <div class="password-container mt-1">
            <input
              class="form-control"
              [type]="isShowPassword ? 'text' : 'password'"
              id="password"
              formControlName="password"
              [placeholder]="'REGISTER.PASSWORD_PLACEHOLDER' | translate"
              [class.form-error]="
                getForm('password')?.errors &&
                (getForm('password')?.touched || getForm('password')?.dirty)
              "
            />
            <img
              *ngIf="isShowPassword"
              class="icon-eye"
              src="icons/eyes-close.svg"
              alt="eyes-close"
              (click)="toggleShowPassword()"
            />
            <img
              *ngIf="!isShowPassword"
              class="icon-eye"
              src="icons/eyes-open.svg"
              alt="eyes-close"
              (click)="toggleShowPassword()"
            />
          </div>
          <div
            class="text-error"
            *ngIf="
              getForm('password')?.errors &&
              (getForm('password')?.touched || getForm('password')?.dirty)
            "
          >
            {{ "REGISTER.PASSWORD_REQUIRED" | translate }}
          </div>
        </div>

        <div class="col-6">
          <!-- ยืนยันรหัสผ่าน -->
          <label
            class="mt-3"
            for="confirmPassword"
            [class.label-error]="
              getForm('confirmPassword')?.errors &&
              (getForm('confirmPassword')?.touched || getForm('confirmPassword')?.dirty)
            "
          >
            {{ "REGISTER.CONFIRM_PASSWORD" | translate }}
          </label>
          <div class="password-container mt-1">
            <input
              class="form-control"
              [type]="isShowConfirmPassword ? 'text' : 'confirmPassword'"
              id="confirmPassword"
              formControlName="confirmPassword"
              [placeholder]="'REGISTER.CONFIRM_PASSWORD_PLACEHOLDER' | translate"
              [class.form-error]="
                getForm('confirmPassword')?.errors &&
                (getForm('confirmPassword')?.touched || getForm('confirmPassword')?.dirty)
              "
            />
            <img
              *ngIf="isShowConfirmPassword"
              class="icon-eye"
              src="icons/eyes-close.svg"
              alt="eyes-close"
              (click)="toggleShowConfirmPassword()"
            />
            <img
              *ngIf="!isShowConfirmPassword"
              class="icon-eye"
              src="icons/eyes-open.svg"
              alt="eyes-close"
              (click)="toggleShowConfirmPassword()"
            />
          </div>
          <div
            class="text-error"
            *ngIf="
              getForm('confirmPassword')?.errors &&
              (getForm('confirmPassword')?.touched || getForm('confirmPassword')?.dirty)
            "
          >
            {{ "REGISTER.CONFIRM_PASSWORD_REQUIRED" | translate }}
          </div>
        </div>
      </div>

      <!-- ยืนยัน -->
      <button type="submit" class="login-button" [disabled]="registerForm.invalid" (click)="register()">
        {{ "REGISTER.SAVE" | translate }}
      </button>

      <!--คุณมีบัญชีเเล้ว? เข้าสู่ระบบที่นี้ -->
      <p class="register-link text-center mt-4">
        {{ "REGISTER.LOGIN_LINK" | translate }}
        <a class="obrs-link" [routerLink]="'/login'">
          {{ "REGISTER.LOGIN_LINK_CLICK" | translate }}
        </a>
      </p>
    </form>

    <!-- <div class="footer">© NJ Phuyaipu 2024. all rights reserved</div> -->
  </div>
</div>
